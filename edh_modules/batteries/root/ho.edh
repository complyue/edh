
{#
 # functional high order procedure support
 #}
export {

  # partial application
  method partial (*** apk1 ) {
    class Applied { method __init__( f as this.f, apk1 as this.apk1 ) pass
      method def( fn ) {
        method @fn (*** apk2 ) {
          this.f(*** this.apk1, *** apk2 )
        }
      }
    }
    method apply'to ( f ) {
      applied = Applied( f, apk1 )
      applied.def( f.name )
    }
  }

}
